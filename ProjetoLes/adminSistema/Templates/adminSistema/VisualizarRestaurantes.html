{% extends 'adminSistema/navbar.html' %}
{% block content %}
    <div class="container">
       
        <div class="modal fade" id="myModal3" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <center>
                        <h4 class="modal-title">Ajuda</h4>
                        </center>
                    </div>
                    <div class="modal-body">
                        <p> <STRONG>Nesta página pode visualizar todos os restaurantes existentes </Strong> </p>
                        <p>Se pretender um restaurante em específico use a pesquisa(Ex: Nome: sa  irá encontrar todos os restaurantes que tenham sa no nome</p>
                        <p>Ao carregar em "Nome Restaurante" irá ordenar por ordem alfabética crescente pelos nomes dos restaurantes, se carregar na seta ao lado irá ordenar por ordem decrescente</p>
                        <p>Para ver informações de apenas 1 restaurante carregue em cima do nome do restaurante</p>
                        <p>Se pretender editar/eliminar um restaurante carregue nos respetivos textos "Editar"/"Eliminar" que se encontrão no lado direito do restaurante</p>
                        <p>Para criar um novo restaurante carregue no botão que diz "Criar"</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" style="position: 100%; width: 100px; height: 40px; font-size: 20px">Ok!</button>
                    
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    </ul>

    <div class="container">
      
        <h2 style="color: white">Visualizar Restaurantes</h2>
        <center>
        <h4 style="color: white"> {{message}} </h4>
        </center>
        <button style="float: right; " type="button" class="btn btn-default left" data-toggle="modal" data-target="#myModal3">Ajuda?</button>
      <br><br>


        <div class="container" style="background:white; width: 100%;">
            
            
            <form  method="get" action="VisualizarRestaurantes">
                <h3> Pesquisar </h3>
            <div class="form-inline">
              <div >
                    <label for="nome">Nome:</label>
                    <input type="text" id="nome" name="nome" value="{{nome}}">
              </div>
              <div>
                    <label for="numerotelefone">Número de telefone:</label>
                    <input type="text" id="lname" name="numerotelefone" value="{{numerotelefone}}">
              </div>
              <div>
                <label for="cidade">Cidade:</label>
                <input type="text" id="lname" name="cidade" value="{{cidade}}"> 
                <button  class="btn btn-primary" type = "submit"> Pesquisar </button>
                
            </div>
        </div>
   

            <br>
           
        <table class="table table-striped">

       <br>
          
            <thead>
                <tr>
                   
                    <th>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=nome&direction=0">
                        Nome Restaurante 
                        </a>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=nome&direction=1">
                        <span class="glyphicon glyphicon-chevron-down"> </span> </a>
                    </th>
                    <th>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=numerotelefone&direction=0">
                        Número de Telefone 
                         </a>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=numerotelefone&direction=1">
                        <span class="glyphicon glyphicon-chevron-down"> </span> </a>
                    </th>
                    <th><a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=cidade&direction=0">
                        Cidade
                        </a>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=cidade&direction=1">
                        <span class="glyphicon glyphicon-chevron-down"> </span> </a>
                    </th>
                    <th>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=rua&direction=0">
                        Morada
                        </a>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=rua&direction=1">
                        <span class="glyphicon glyphicon-chevron-down"> </span> </a>
                    </th>
                    <th><a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=codigo&direction=0">
                        Código Postal 
                        </a>
                        <a href="http://127.0.0.1:8000/adminSistema/VisualizarRestaurantes?nome={{nome}}&numerotelefone={{numerotelefone}}&cidade={{cidade}}&order_by=codigo&direction=1">
                        <span class="glyphicon glyphicon-chevron-down"> </span> </a>
                    </th>
                </form>
                    <th></th>
                    <th></th>
                </tr>
            </thead>

            {% for k in page_obj %}
               
                    <tr>
                        

                        <td><a href = "Restaurante_info?id={{k.id}}" style = "color: #0000cc">{{k.nome}}</a></td> <!-- ERFQWFWEQFWEQFWQFWQFWQFQWFWQFWQFQWFQWFQWFQWFQWQWF-->
                        
                        <td> {{k.numerotelefone}} </td>
                        <td>{{k.cidade}}, {{k.distrito}} </td>
                        <td>{{k.rua}} {{k.numero_andar}}</td>
                        <td>{{k.codigo}}-{{k.postal}}</td>
                       
                        <td> <a href = "EditarRestaurante/{{k.id}}" style = "color: #0000cc">Editar</a></td>
                        
                        <td><a data-toggle="modal" data-target="#{{k.id}}"  style = "color: #0000cc">Eliminar</a>
                            </td>
                        <div class="modal fade" id="{{k.id}}" role="dialog">
                            <div class="modal-dialog">
                    
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <center>
                                        <h4 class="modal-title">Elimar restaurante: {{k.nome}}</h4>
                                        </center>
                                        
                                    </div>
                                    <div class="modal-body">
                                        <p>Pretende eliminar o restaurane {{k.nome}} e todas as suas respetivas associações?</p>
                                        <p>(Salas, mesas, Funcionários...) </p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal" style="position: 100%; width: 100px; height: 40px; font-size: 20px">Cancelar</button>
                                        <a href ="Delete_Rest?id={{k.id}}">  <button type="button" onclick=""class="btn btn-danger" style="position: 100%; width: 100; height: 40px;"> Apagar </button> </a>
                                    
                                    </div>
                                </div>
                            </div>
                        </div>
                    </tr>
                {% endfor %}
                

            <tbody>
                
                
                
            </tbody>
            
        </table>
    
        <a href="Restaurantes"> <button type="button" class="btn btn-primary" data-dismiss="modal" style="position: 100%; width: 100px; height: 40px; font-size: 20px">Criar</button> </a>
        <center>
        {% include 'adminSistema/paginator.html' %}
        </center>
        {% endblock %}
        
        
</body>
