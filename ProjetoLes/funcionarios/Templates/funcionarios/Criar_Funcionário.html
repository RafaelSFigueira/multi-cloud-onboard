{% extends 'restaurantes/navbar_com_modal.html' %}
{% block content %}
{% load static %}
<link href="{% static 'css/Forms-Funcionario.css' %}" rel="stylesheet">
{%block load%}
{%endblock load%}


<center>
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <form id="modal2" method='post' class="form" role="form" action="CriarFuncionario">
                  <div class="modal-header">
                    <button  type="button" class="close" data-toggle="modal" data-target="#myModal3">x</button>
                      
                    <h3 class="modal-title" id="myModalLabel">Criar Funcionário</h3>
                  </div>
                  <div class="modal-body">
                        {% csrf_token %}
                        {% if form.non_field_errors.0 == '3' or form.non_field_errors.1 == '3' or form.non_field_errors.2 == '3' or form.non_field_errors.3 == '3' %}
                        <p style="font-size: 15px; color:red; width: 52%; text-align: left;"> A menos que o novo funcionário seja um administrador tem que indicar o restaurante onde trabalha</p>

                        {% endif %}
                        {% if form.non_field_errors.0 == '0' %}
                        <p style="font-size: 15px; color:red; width: 52%; text-align: left;"> Todos os campos são obrigatórios</p>
                  
                        {% endif %}

                        <div class="form-side">
                            <div class="form-side-left">
                                <div style="text-align: left;">
                                    {{form.tipofuncionarioid.label_tag}}
                                </div>
                                <select name="tipofuncionarioid" id="tipofuncionarioid">
                                    {% for r in restaurantes %}
                                    <option value="{{r.id}}">{{r.nome}}</option>
                                    {% endfor %}
                                </select>
                                {{form.tipofuncionarioid}}
                            </div>
                            
                            <div class="form-side-right">
                                <div style="text-align: left;">
                                    {{form.restauranteid.label_tag}}
                                </div>
                                    {{form.restauranteid}}
                            </div> 
                        </div>

                        
                        <br>
                        <div class='form-top'>
                            {{form.nome.label_tag}}
                            {{form.nome}}
                        </div>

                        <div class='form-top'>
                            {{form.telefone.label_tag}}
                            {{form.telefone}}
                        </div>

                        <div class='form-top'>
                            {{form.email.label_tag}}
                            {% if form.non_field_errors.0 == '1' or form.non_field_errors.1 == '1'  %}
                            <p style="font-size: 15px; color:red; width: 52%; text-align: left;"> Já existe um funcionário com este email</p>
                            {% endif %}
                            {{form.email}}
                        </div>
<br>
                        <div class='form-top'>
                            {{form.password.label_tag}}
                            {% if form.non_field_errors.0 == '2' or form.non_field_errors.1 == '2' or form.non_field_errors.2 == '2' %}
                            <p style="font-size: 15px; color:red; width: 52%; text-align: left;"> Passwords não correspondem</p>
                            {% endif %}
                            {{form.password}}
                        </div>

                        <div class='form-top'>
                            {{form.password2.label_tag}}
                            {{form.password2}}
                        </div>
                       
                    
                        
                  </div>
                  <div class="modal-footer">
                    
                        <button  type="button" class="btn btn-danger" style="position: 100%; width: 105px; height: 40px; font-size: 20px" data-toggle="modal" data-target="#myModal3">Cancelar</button>
                
                  
                    <input type="submit" class="btn btn-success" style="position: 100%; width: 105px; height: 40px; font-size: 20px" value="Criar" />
                  </div>
            </form>

    <div class="modal fade" id="myModal3" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Cancelar criação de restaurante</h4>
                </div>
                <div class="modal-body">
                    <p>Deseja mesmo cancelar a criação do restaurante?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal" style="width: 80px;">Não</button>
                    <a href={% url 'VisualizarFuncionarios' 0 %}>
                        <button type="button" class="btn btn-success" style="width: 80px;" aria-hidden="true">Sim</button>
                    </a>
                </div>
                
            </div>
        </div>
    </div>

</center>
{% endblock %}