{% load static %}
    
    
    
  {% load static %}
<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    <title>{% block title %}{% endblock %}</title>
    {% block head %}
    {% endblock %}
</head>
<body>

{% include 'navbar.html' %}
     
    <div class="container-fluid">
            <div class="row rounded bg-light pt-3">
                <div class="col">
                    <div class="jumbotron border p-3 mb-3">
                        <br> 
                            <h1 class="text-center">Grafico1</h1>
                            <h5 class="text-center">asdasdasdasdasdasd</h5>
                            <hr>
                        
                    </div>
                </div>
            </div>
            <div class="row rounded bg-light pt-3">
                <div class="col-sm-4">
                    <div class="jumbotron border p-3 mb-3">
                        <br> 
                            <h1 class="text-center">Filtros</h1>
                            <br> 
                            <h5 class="text-center">Selecione o intervalo de tempo e o tipo de gráfico em que pretende vizualizar</h5>
                            <br> 
                            <center>
                            
                            <form action="" method='POST'>
                                {% csrf_token %}
                                
                                <label for="parque_id">Selecione o parque:</label>
                                <select name="parque_id" id="parque_id" style="height: 35px; width: auto;">
                                {% for parque in parques %}
                            
                                    {% if parque_id == parque.id %}
                                        <option selected="true" value="{{parque.id}}">{{parque.nome}}</option>
                                    {% else %}
                                        <option value="{{parque.id}}">{{parque.nome}}</option>
                                    {% endif %}
                                {% endfor %}
                                
                                </select>
                                <br>
                                <label for="start">Data início:</label>
                                 <input type="date" id="start" name="start" value="{{start}}">
                                 <br>
                                 
                                <label for="end">Data fim:</label>
                                <input type="date" id="end" name="end" value="{{end}}">
                                <br>
                                <label for="starth">Tempo início:</label>
                                <input type="time" id="starth" name="starth" value="{{starth}}" min="{{min}}" max="{{max}}">
                                <br>
                                <label for="endh">Tempo fim:</label>
                                <input type="time" id="endh" name="endh" value="{{endh}}" min="{{min}}" max="{{max}}">
                                <br>
                                <input type="submit" value="Vizualizar">
                            </form>
                            <br> 
                            <hr>
                            <button  type="button" class="btn btn-primary" href="menu" style="min-width: 80px; width: 120px; height: 60px; border:2px solid black;">Voltar</button>
                        
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="jumbotron border p-3 mb-3">
                    <h5 class="text-center">Melhor altura para reservar: {{info}}</h5>
                    
                            <canvas id="mixedChart" width="400" height="205px"></canvas>
                            <script>
                            
                            const ctx = document.getElementById('mixedChart');
                            const mixedChart = new Chart(ctx, {
                                type: 'bar', //tipo de grafico
                                data: {
                                
                                    datasets: [{
                                    label: 'Faturação em €',
                                    data: {{data2}},
                                    backgroundColor: [
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        'rgba(0, 255, 0, 0.2)',
                                                        
                                                        ], 
                                            borderColor: [
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        'rgba(0, 255, 0, 1)',
                                                        
                                                        ],
                                                        borderWidth: 1,
                                    }, {
                                    label: 'Dívidas em €',
                                    data: {{data}},
                                    backgroundColor: [
                                                       'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        'rgba(255, 0, 0, 0.2)',
                                                        
                                                       ], 
                                            borderColor: [
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        'rgba(255, 0, 0, 1)',
                                                        
                                                        ],
                                            
                                    borderWidth: 1,
                                    // Changes this dataset to become a line
                                    
                                    type: 'bar'
                                    }],
                                labels: {{label | safe}}

                                },
                                options: {
                                    legend: {
                                        display: false
                                    },
                                    scales: {
                                        yAxes: [{
                                            ticks: {
                                                beginAtZero: true
                                            }
                                        }]
                                    }
                                }
                            });
                            </script>
                        
                    </div>
                </div>
            </div>
    </div>






                    </div>
                </div>
            </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
</body>
</html>